---
import { Icon } from 'astro-icon/components';

const services = [
  {
    title: "Vacuum Technology Reviews",
    description: "In-depth analysis and reviews of the latest vacuum technologies to help you choose the best.",
    icon: "mdi:vacuum",
  },
  {
    title: "Hard Floor Cleaning Solutions",
    description: "Expert guidance on vacuums optimized for hard floors, ensuring spotless results.",
    icon: "mdi:floor-plan",
  },
  {
    title: "Budget-Friendly Options",
    description: "Curated recommendations for high-performance vacuums that fit your budget.",
    icon: "mdi:cash",
  },
  {
    title: "Blog & Insights",
    description: "Stay updated with tips, trends, and insights from our vacuum and cleaning blog.",
    icon: "mdi:blog",
  },
];
---

<section class="relative min-h-screen bg-slate-900 overflow-hidden">
  <!-- Background layers -->
  <div class="absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 opacity-95" />
  <div class="absolute inset-0 bg-noise opacity-10 mix-blend-overlay" />

  <div class="container mx-auto px-4 py-16 md:py-20 relative">
    <!-- Header section -->
    <header class="text-center mb-12 md:mb-16 space-y-4">
      <h2 class="text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-300 to-cyan-300 bg-clip-text text-transparent">
        What We Do
      </h2>
      <p class="text-lg md:text-xl text-slate-300 max-w-xl mx-auto">
        Precision-engineered solutions for your cleaning technology needs
      </p>
    </header>

    <!-- Services grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6">
      {services.map((service, index) => (
        <article 
          class="relative bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 transition-transform duration-300 hover:transform hover:scale-[1.02]"
          style={`--index: ${index}`}
        >
          <div class="mb-5">
            <div class="p-3 bg-slate-700/30 rounded-lg inline-block">
              <Icon 
                name={service.icon}
                class="w-7 h-7 md:w-8 md:h-8 text-cyan-300"
                loading={index > 1 ? "lazy" : "eager"}
                aria-label={service.title.split(' ')[0] + " icon"}
              />
            </div>
          </div>
          <h3 class="text-xl md:text-2xl font-semibold text-slate-100 mb-2">
            {service.title}
          </h3>
          <p class="text-slate-300/90 text-sm md:text-base leading-relaxed">
            {service.description}
          </p>
        </article>
      ))}
    </div>

    <!-- Learn More button container -->
    <div class="flex justify-center mt-12 md:mt-16">
      <a 
        href="/about" 
        class="inline-block px-8 py-3 bg-cyan-300 text-slate-900 rounded-lg font-semibold
               transition-all duration-300 hover:bg-cyan-400 hover:shadow-lg hover:shadow-cyan-300/20
               transform hover:-translate-y-1"
      >
        Learn More About Us
      </a>
    </div>
  </div>
</section>

<style>
  /* Noise texture */
  .bg-noise {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='2'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    background-size: 150px;
  }

  /* Animations */
  @media (prefers-reduced-motion: no-preference) {
    article {
      animation: cardEntrance 0.6s ease-out forwards;
      animation-delay: calc(var(--index) * 50ms);
      opacity: 0;
    }
  }

  @keyframes cardEntrance {
    to {
      opacity: 1;
      transform: translateY(0);
    }
    from {
      opacity: 0;
      transform: translateY(20px);
    }
  }

  /* Mobile optimizations */
  @media (max-width: 768px) {
    .backdrop-blur-sm {
      backdrop-filter: blur(4px);
    }
    
    article {
      animation-delay: calc(var(--index) * 25ms);
    }
  }
</style>