---
interface Props {
  title?: string;
  description?: string;
}

const {
  title = "Have a question we didn't answer?",
  description = "Submit your question about vacuum cleaners, our testing process, or anything else. Our experts will answer it and we may add it to our FAQ!"
} = Astro.props;
---

<div class="mt-12 bg-primary-50 rounded-lg p-6 border border-primary-100">
  <div class="flex flex-col md:flex-row gap-6 items-start">
    <div class="md:w-1/3">
      <h3 class="text-xl font-bold mb-3">{title}</h3>
      <p class="text-gray-600 mb-4">{description}</p>

      <div class="hidden md:block">
        <div class="flex items-center mt-8">
          <div class="bg-primary-100 p-3 rounded-full mr-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <span class="text-sm text-gray-600">We typically respond within 48 hours</span>
        </div>
      </div>
    </div>

    <div class="md:w-2/3">
      <form class="space-y-4" action="/api/submit-question" method="POST">
        <div>
          <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Your Name</label>
          <input
            type="text"
            id="name"
            name="name"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"
            required
          />
        </div>

        <div>
          <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
          <input
            type="email"
            id="email"
            name="email"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"
            required
          />
          <p class="mt-1 text-xs text-gray-500">We'll never share your email with anyone else.</p>
        </div>

        <div>
          <label for="question" class="block text-sm font-medium text-gray-700 mb-1">Your Question</label>
          <textarea
            id="question"
            name="question"
            rows="4"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"
            required
          ></textarea>
        </div>

        <div class="flex items-center">
          <input
            type="checkbox"
            id="consent"
            name="consent"
            class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"
            required
          />
          <label for="consent" class="ml-2 block text-sm text-gray-700">
            I agree to receive an email response to my question.
          </label>
        </div>

        <div>
          <button
            type="submit"
            class="btn-primary w-full md:w-auto"
          >
            Submit Question
          </button>
        </div>
      </form>

      <div class="md:hidden">
        <div class="flex items-center mt-6">
          <div class="bg-primary-100 p-3 rounded-full mr-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <span class="text-sm text-gray-600">We typically respond within 48 hours</span>
        </div>
      </div>
    </div>
  </div>
</div>
